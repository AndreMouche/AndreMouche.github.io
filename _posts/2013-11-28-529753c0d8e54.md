---
layout: postlayout
title: 交换基础
description: 简单概括了交换机的基础知识，包括交换机优于网桥、交换机的特点、交换机的工作方式，交换机的选择指标
thumbimg: Services-network-cloud.jpg
categories: [network,hardware]
tags: [network,switch]
---

## 同一个网段需要用2层设备互联

- Hub：共享性网络，同一个Hub上的设备实际上可以看成连接在同一根线上，产生冲突的可能性很大，所以带宽是平分的，现在基本已经淘汰
- 网桥：二层隔离性，能够互联多个网段，并隔离不同的网段。软件实现不同网段数据之间的过滤

![]({{ site.BASE_PATH }}/assets/img/2013-11-28-529753c09bdb6.png)

- 交换机：多端口网桥，硬件实现过滤，能够达到线速转发。微分段（micro segmentation）技术：每个端口处在独立的冲突域（multiple collision domain）中，所以网络中不会出现线路冲突
 

## 交换机的特点

1. 可靠安全的通信
2. 多端口链接
3. 全双工模式（Full-Duplex Communication）
4. 适应接口的不同速率（Media-Rate Adaptation）
5. 交换机通过桥接表来过滤和转发数据帧，并且具有学习能力
6. 交换机对广播和组播一般执行泛洪操作（交换机一般无法识别组播组），所以交换机一共会对3种包执行泛洪操作，分别为：目标地址未知的单播包（学习桥接表时）、广播包、组播包

![]({{ site.BASE_PATH }}/assets/img/2013-11-28-529753c0b5bcc.png)


## 交换机的工作方式

- 直通模式：当交换机读到源和目标mac地址时就开始转发（一般只需要读取20-30字节），不进行校验，无法识别碎片帧和损坏帧，最快但最不可靠
- 无碎片转发：读前64个字节，然后立刻转发数据帧，因为一般冲突的数据碎片大小小于64字节，能够识别碎片帧，无法识别损坏帧
- 存储转发：完整读取数据帧，并校验后转发，可靠性最高但最慢

![]({{ site.BASE_PATH }}/assets/img/2013-11-28-529753c0c2307.png) 

## 交换机指标

- 接口数量
- 接口速率
- 背板带宽：即交换机的总流量速率。假设24口，每个口1000M，那么理论速率总速率为24G，但是背板带宽可能会限制这个速率。背板带宽实际上表征了交换机内部交换处理速度。例如思科6500系列核心交换机的背板带宽可达720G/s

![]({{ site.BASE_PATH }}/assets/img/2013-11-28-529753c0cbf49.png)